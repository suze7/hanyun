<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>瀚云智能运维管理平台</title>
  <link href="../assets/css/base.css" rel="stylesheet" />
  <link href="../assets/js/element-ui/index.css" rel="stylesheet" />
  <link href="../assets/css/style.css" rel="stylesheet" />
  <link href="../assets/css/theme/main-theme.css" rel="stylesheet" />
  <!-- <link href="../assets/css/theme/light-theme.css" rel="stylesheet" /> -->
  <link href="./business-overview/business-overview.css" rel="stylesheet" />
</head>

<body class="app">
  <div id="homeIndex" style="height: 100%;">
    <el-radio-group v-model="radio1" @change="toggleBtn" size="small">
      <el-radio-button label="业务总览"></el-radio-button>
      <el-radio-button label="资源告警"></el-radio-button>
      <el-radio-button label="业务拓扑"></el-radio-button>
    </el-radio-group>

    <div v-if="radio1==='业务总览'">
      <div class="overview-header">
        <span>
          业务名称: {{business_data.label}}
        </span>
        <span>
          当前健康等级:
          <img v-if="business_data.status === '1'" src="../assets/images/icon/normal.png" />
          <img v-if="business_data.status === '2'" src="../assets/images/icon/warning.png" />
          <img v-if="business_data.status === '0'" src="../assets/images/icon/error.png" />
        </span>
        <span>
          宕机次数: {{business_data.label}}
        </span>
        <span>
          MTTR: {{business_data.mttr}}
        </span>
        <span>
          MTBF: {{business_data.mtbf}}
        </span>
      </div>
      <div class="aside-statics">
        <div class="aside-left">
          <p class="p-title">告警统计</p>
          <div style="display:flex;">
            <v-chart style="width:65%; height:204px" :options="alarm_statics"></v-chart>
            <ul>
              <li v-for="item in alarm_object">
                <img v-if="item.status === '1'" src="../assets/images/icon/normal.png" />
                <img v-if="item.status === '2'" src="../assets/images/icon/warning.png" />
                <img v-if="item.status === '0'" src="../assets/images/icon/error.png" />
                <span>{{item.name}}</span>
              </li>
            </ul>
          </div>
        </div>
        <div class="aside-middle">
          <p class="p-title">业务可用率</p>
          <v-chart style="width:100%; height:200px" :options="business_using"></v-chart>
        </div>
        <div class="aside-right">
          <p class="p-title" style="margin:0 0 30px 0;">业务可用率</p>
          <div class="two-pie">
            <v-chart style="width:72px; height:72px" :options="multiple_pie.pie1"></v-chart>
            <ul>
              <li><span>计算容量 47%</span></li>
            </ul>
          </div>
          <div class="two-pie">
            <v-chart style="width:72px; height:72px" :options="multiple_pie.pie2"></v-chart>
            <ul>
              <li><span>计算容量 47%</span></li>
              <li><span>总容量 338.9GB</span> <span>总容量 338.9GB</span></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="aside-bottom" style="margin-top:20px;">
        <div class="title" style="display:flex;">
          <p class="p-title" style="margin:0;">告警统计</p>
          <button @click="alarmToggle('healthy');" :class="{active: isActice === '0'}">健康度</button>
          <button @click="alarmToggle('storage');" :class="{active: isActice === '1'}">储存容量</button>
        </div>
        <div style="display:flex;">
          <div class="bottom-text">
            <ul v-if="isActice === '0'">
              <li>
                当前状态：
                <img v-if="business_data.status === '1'" src="../assets/images/icon/normal.png" />
                <img v-if="business_data.status === '2'" src="../assets/images/icon/warning.png" />
                <img v-if="business_data.status === '0'" src="../assets/images/icon/error.png" />
              </li>
              <li>
                当前健康等级：1 < 1 < 1 < 1 </li> <li>
                  当前值：0%
              </li>
              <li>
                最新采集时间：2018-11-05 15:33:22
              </li>
            </ul>
            <ul v-else>
              <li>
                当前值：14ms
              </li>
              <li>
                最新采集时间：2018-11-05 15:33:22
              </li>
            </ul>
          </div>
          <div class="bottom-charts">
            <v-chart v-if="isActice === '0'" style="width:1000px; height:200px" :options="multiple_pie.pie3"></v-chart>
            <v-chart v-else style="width:1000px; height:200px" :options="multiple_pie.pie3"></v-chart>
          </div>
        </div>
      </div>
    </div>

    <div v-else-if="radio1==='资源告警'">
      资源告警
    </div>

    <div v-else>
      业务拓扑
    </div>
  </div>

</body>
<script src="../assets/js/vue/vue.dev.js"></script>
<script src="../assets/js/echart/echarts.min.js"></script>
<script src="../assets/js/echart/vue-echart.js"></script>
<script src="../assets/js/element-ui/index.js"></script>
<script src="./business-overview/business-overview.js"></script>

</html>