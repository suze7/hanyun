<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>业务管理</title>
  <link href="../assets/js/element-ui/index.css" rel="stylesheet" />
  <link href="../assets/css/theme/main-theme.css" rel="stylesheet" />
  <link href="../assets/css/style.css" rel="stylesheet" />
  <link rel="stylesheet" href="./business-manage.css">
  <link href="../assets/css/base.css" rel="stylesheet" />
</head>

<body class="app">
  <div id="homeIndex">
    <div class="loc-app-menu">
      <div class="loc-logo-form"><img src="../assets/images/logo.png" /></div>
      <div class="loc-menu-list">
        <div class="loc-menu-form com-hover" v-for="menu of menuList" :class="{active: menu.active}">
          <img class="loc-menu-default" :src="menu.img + '.png'" />
          <img class="loc-menu-active" :src="menu.img + '-active.png'" />
          <span class="loc-menu-name com-txt-overflow">{{ menu.name }}</span>
        </div>
      </div>
      <div class="loc-user-form">
        <div class="loc-alarm-form">
          <span class="loc-alarm-img"></span>
        </div>
        <div class="loc-user">
          <img class="loc-user-icon" src="../assets/images/logo.png" />
          <el-dropdown trigger="click" @command="changeHomeMenu($event, homeDataList[0])">
            <span class="el-dropdown-link">
              {{'Ronin'}} <span class="menu-drop-img"></span>
            </span>
            <el-dropdown-menu slot="dropdown" class="home-drop">
            </el-dropdown-menu>
          </el-dropdown>
        </div>
      </div>
    </div>

    <img v-if="page_init" src="../assets/images/menu/group-1.png" usemap="switchBtn1" class="group-btn com-hover">
    <img v-else src="../assets/images/menu/group--1.png" usemap="switchBtn2" class="group-btn com-hover">
    <map id="switchBtn1" name="switchBtn1">
      <area shape="rect" coords="0,0,44,40" @click="showDialog('dialog')" alt="">
      <area shape="rect" coords="44,0,88,40" @click="showDialog('list')" alt="">
    </map>
    <map id="switchBtn2" name="switchBtn2">
      <area shape="rect" coords="0,0,44,40" @click="showDialog('dialog')" alt="">
      <area shape="rect" coords="44,0,88,40" @click="showDialog('charts')" alt="">
    </map>

    <!-- 图表 -->
    <div class="aside-main" v-if="page_init">
      <div class="aside-left">
        <div class="bus-response-speed">
          <span>业务响应速度</span>
          <v-chart class="single-bar" :options="bus_responseSpeed"></v-chart>
        </div>
        <div style="margin-top:20px;" class="bus-alarm-time">
          <span>业务告警次数</span>
          <v-chart class="single-pie" :options="bus_alarmTime"></v-chart>
        </div>
      </div>
      <div class="aside-center">
        <div class="bus-health">
          <span>业务健康</span>
        </div>
        <div style="margin-top:20px;" class="bus-runing-state">
          <span>业务运行情况</span>
          <table>
            <tr>
              <th>名称</th>
              <th>健康度</th>
              <th>状态</th>
              <th>响应时间</th>
              <th>繁忙度</th>
              <th>可用率</th>
            </tr>
            <tr v-for="state in runing_states">
              <td>{{state.label}}</td>
              <td>{{state.health}}</td>
              <td>
                <img v-if="state.status === '1'" src="../assets/images/icon/normal.png" />
                <img v-if="state.status === '2'" src="../assets/images/icon/warning.png" />
                <img v-if="state.status === '0'" src="../assets/images/icon/error.png" />
              </td>
              <td>{{state.response}}</td>
              <td>{{state.busyness}}</td>
              <td>{{state.using}}</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="aside-right">
        <div class="alarm-statics">
          <span>告警统计</span>
          <div class="toggle-btn">
            <el-radio-group v-model="radio1" @change="toggleBtn" size="small">
              <el-radio-button label="储存容量"></el-radio-button>
              <el-radio-button label="计算容量"></el-radio-button>
            </el-radio-group>
            <div v-if="radio1 === '储存容量'">
              <v-chart style="width:362px; height:600px;" :options="multiple_pie"></v-chart>
            </div>
            <div v-else>
              <v-chart style="width:362px; height:600px;" :options="multiple_pie"></v-chart>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 列表 -->
    <div class="aside-main" v-else>
      列表
    </div>

    <!-- dialog -->
    <!-- 新建业务 -->
    <el-dialog title="新建业务" :visible.sync="addBusiDialog" width="1080px" class="blue-dialog">
      <el-form ref="business_form" size="mini" :model="business_form" :rules="business_rules" class="demo-ruleForm common-addForm-table">
        <el-form-item label="">
          <table>
            <tr>
              <td>名称</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="名称">
              </td>
              <td width="40"></td>
              <td>厂商</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="厂商">
              </td>
              <td width="40"></td>
              <td>厂商</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="厂商">
              </td>
              <td width="40"></td>
              <td>责任人</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="责任人">
              </td>
              <td width="40"></td>
            </tr>
          </table>
        </el-form-item>
        <el-form-item label="">
          <span>资源</span>
        </el-form-item>
        <el-form-item>
          <table>
            <tr>
              <td class="text-right">系统-监控点的数据库</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
              <td width="120"></td>
              <td class="text-right">服务核心</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
            </tr>
            <tr>
              <td class="text-right">服务采集</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
              <td width="120"></td>
              <td class="text-right">web服务器</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
            </tr>
            <tr>
              <td class="text-right">web服务器</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
              <td width="120"></td>
              <td class="text-right">系统-监控点的服务库</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
            </tr>
            <tr>
              <td class="text-right">FTP</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
              <td width="120"></td>
              <td class="text-right">服务器测试</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
            </tr>
            <tr>
              <td class="text-right">Apache的服务</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
              <td width="120"></td>
              <td class="text-right">维也纳-测试1</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
            </tr>
            <tr>
              <td class="text-right">维也纳-测试2</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
              <td width="120"></td>
              <td class="text-right">维也纳-测试3</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
            </tr>
            <tr>
              <td class="text-right">维也纳-测试4</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
              <td width="120"></td>
              <td class="text-right">47.98.213.184</td>
              <td width="32"></td>
              <td>权值</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="权值">
              </td>
            </tr>
          </table>
        </el-form-item>
        <el-form-item label="">
          <span>健康等级</span>
        </el-form-item>
        <el-form-item label="">
          <table>
            <tr>
              <td class="text-center">严重</td>
              <td width="32"></td>
              <td>健康度小于</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="严重"> %
              </td>
              <td width="120"></td>
              <td class="text-center">重要</td>
              <td width="32"></td>
              <td>健康小于</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="重要"> %
              </td>
            </tr>
            <tr>
              <td class="text-center">次要</td>
              <td width="32"></td>
              <td>健康度小于</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="次要"> %
              </td>
              <td width="120"></td>
              <td class="text-center">重要</td>
              <td width="32"></td>
              <td>健康小于</td>
              <td width="8"></td>
              <td>
                <input v-model="business_form.name" placeholder="重要"> %
              </td>
            </tr>
          </table>
        </el-form-item>
      </el-form>
      <span slot="footer" class="dialog-footer">
        <el-button @click="addBusiDialog = false" size="small">取 消</el-button>
        <el-button type="primary" @click="confirmAddBus" size="small">确 认</el-button>
      </span>
    </el-dialog>

  </div>
</body>
<script src="../assets/js/vue/vue.dev.js"></script>
<script src="../assets/js/vue/vue-router.js"></script>
<script src="../assets/js/echart/echarts.min.js"></script>
<script src="../assets/js/echart/vue-echart.js"></script>
<script src="../assets/js/element-ui/index.js"></script>
<script src="./business-manage.js"></script>

</html>